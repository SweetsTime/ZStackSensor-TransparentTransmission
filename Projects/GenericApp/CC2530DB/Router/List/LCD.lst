###############################################################################
#                                                                             #
# IAR C/C++ Compiler V7.60.1.40026 for 8051             08/Jun/2018  08:43:42 #
# Copyright (C) 2004-2010 IAR Systems AB.                                     #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#    Source file        =  C:\Users\win7\Desktop\ZStack传感器透明传输源程序V2 #
#                          .45-13(带回码2018-5-20)\Projects\GenericApp\Source #
#                          \LCD.c                                             #
#    Command line       =  -f "C:\Users\win7\Desktop\ZStack传感器透明传输源程 #
#                          序V2.45-13(带回码2018-5-20)\Projects\GenericApp\CC #
#                          2530DB\..\..\..\COMPONENTS\Tools\CC2530DB\f8wRoute #
#                          r.cfg" (-DCPU32MHZ -DROOT=__near_func              #
#                          -DMAC_CFG_APP_PENDING_QUEUE=TRUE                   #
#                          -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8         #
#                          -DMAC_CFG_RX_MAX=5 -DRTR_NWK) -f                   #
#                          "C:\Users\win7\Desktop\ZStack传感器透明传输源程序V #
#                          2.45-13(带回码2018-5-20)\Projects\GenericApp\CC253 #
#                          0DB\..\..\..\COMPONENTS\Tools\CC2530DB\f8wConfig.c #
#                          fg" (-DSECURE=0 -DZG_SECURE_DYNAMIC=0 -DREFLECTOR  #
#                          -DNWK_START_DELAY=1000 -DEXTENDED_JOINING_RANDOM_M #
#                          ASK=0x007F -DBEACON_REQUEST_DELAY=1000             #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DLINK_STATUS_JITTER_MASK=0x007F                   #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116                           #
#                          -DZDNWKMGR_MIN_TRANSMISSIONS=20 "-DCONST=const     #
#                          __code" -DGENERIC=__generic                        #
#                          -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000        #
#                          -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)   #
#                          -DREJOIN_POLL_RATE=440 "C:\Users\win7\Desktop\ZSta #
#                          ck传感器透明传输源程序V2.45-13(带回码2018-5-20)\Pr #
#                          ojects\GenericApp\Source\LCD.c" -D ZTOOL_P1 -D     #
#                          MT_TASK -D MT_SYS_FUNC -D MT_ZDO_FUNC -D           #
#                          xNV_RESTORE -D SERIAL_SUPPORTED=DEBUG -D           #
#                          SENSOR_TYPE=0X31 -D CHANLIST_C_R_E=25 -D           #
#                          ZDAPP_CONFIG_PAN_ID=0x0004 -D                      #
#                          ZigBee_C_R_E_Engineering -D ZigBee_C_R_E_IEEE -D   #
#                          xSENSOR_TYPE_R_E=0X01 -lC                          #
#                          "C:\Users\win7\Desktop\ZStack传感器透明传输源程序V #
#                          2.45-13(带回码2018-5-20)\Projects\GenericApp\CC253 #
#                          0DB\Router\List\" -lA "C:\Users\win7\Desktop\ZStac #
#                          k传感器透明传输源程序V2.45-13(带回码2018-5-20)\Pro #
#                          jects\GenericApp\CC2530DB\Router\List\"            #
#                          --diag_suppress Pe001,Pa010 -o                     #
#                          "C:\Users\win7\Desktop\ZStack传感器透明传输源程序V #
#                          2.45-13(带回码2018-5-20)\Projects\GenericApp\CC253 #
#                          0DB\Router\Obj\" -e --require_prototypes --debug   #
#                          --core=plain --dptr=16,1 --data_model=large        #
#                          --code_model=banked --calling_convention=xdata_ree #
#                          ntrant --place_constants=data_rom                  #
#                          --nr_virtual_regs 16 -I "C:\Users\win7\Desktop\ZSt #
#                          ack传感器透明传输源程序V2.45-13(带回码2018-5-20)\P #
#                          rojects\GenericApp\CC2530DB\" -I                   #
#                          "C:\Users\win7\Desktop\ZStack传感器透明传输源程序V #
#                          2.45-13(带回码2018-5-20)\Projects\GenericApp\CC253 #
#                          0DB\..\SOURCE\" -I "C:\Users\win7\Desktop\ZStack传 #
#                          感器透明传输源程序V2.45-13(带回码2018-5-20)\Projec #
#                          ts\GenericApp\CC2530DB\..\..\..\COMPONENTS\ZMAIN\T #
#                          I2530DB\" -I "C:\Users\win7\Desktop\ZStack传感器透 #
#                          明传输源程序V2.45-13(带回码2018-5-20)\Projects\Gen #
#                          ericApp\CC2530DB\..\..\..\COMPONENTS\MT\" -I       #
#                          "C:\Users\win7\Desktop\ZStack传感器透明传输源程序V #
#                          2.45-13(带回码2018-5-20)\Projects\GenericApp\CC253 #
#                          0DB\..\..\..\COMPONENTS\HAL\INCLUDE\" -I           #
#                          "C:\Users\win7\Desktop\ZStack传感器透明传输源程序V #
#                          2.45-13(带回码2018-5-20)\Projects\GenericApp\CC253 #
#                          0DB\..\..\..\COMPONENTS\HAL\TARGET\CC2530EB\" -I   #
#                          "C:\Users\win7\Desktop\ZStack传感器透明传输源程序V #
#                          2.45-13(带回码2018-5-20)\Projects\GenericApp\CC253 #
#                          0DB\..\..\..\COMPONENTS\OSAL\MCU\CCSOC\" -I        #
#                          "C:\Users\win7\Desktop\ZStack传感器透明传输源程序V #
#                          2.45-13(带回码2018-5-20)\Projects\GenericApp\CC253 #
#                          0DB\..\..\..\COMPONENTS\OSAL\INCLUDE\" -I          #
#                          "C:\Users\win7\Desktop\ZStack传感器透明传输源程序V #
#                          2.45-13(带回码2018-5-20)\Projects\GenericApp\CC253 #
#                          0DB\..\..\..\COMPONENTS\STACK\AF\" -I              #
#                          "C:\Users\win7\Desktop\ZStack传感器透明传输源程序V #
#                          2.45-13(带回码2018-5-20)\Projects\GenericApp\CC253 #
#                          0DB\..\..\..\COMPONENTS\STACK\NWK\" -I             #
#                          "C:\Users\win7\Desktop\ZStack传感器透明传输源程序V #
#                          2.45-13(带回码2018-5-20)\Projects\GenericApp\CC253 #
#                          0DB\..\..\..\COMPONENTS\STACK\SEC\" -I             #
#                          "C:\Users\win7\Desktop\ZStack传感器透明传输源程序V #
#                          2.45-13(带回码2018-5-20)\Projects\GenericApp\CC253 #
#                          0DB\..\..\..\COMPONENTS\STACK\SAPI\" -I            #
#                          "C:\Users\win7\Desktop\ZStack传感器透明传输源程序V #
#                          2.45-13(带回码2018-5-20)\Projects\GenericApp\CC253 #
#                          0DB\..\..\..\COMPONENTS\STACK\SYS\" -I             #
#                          "C:\Users\win7\Desktop\ZStack传感器透明传输源程序V #
#                          2.45-13(带回码2018-5-20)\Projects\GenericApp\CC253 #
#                          0DB\..\..\..\COMPONENTS\STACK\ZDO\" -I             #
#                          "C:\Users\win7\Desktop\ZStack传感器透明传输源程序V #
#                          2.45-13(带回码2018-5-20)\Projects\GenericApp\CC253 #
#                          0DB\..\..\..\COMPONENTS\ZMAC\F8W\" -I              #
#                          "C:\Users\win7\Desktop\ZStack传感器透明传输源程序V #
#                          2.45-13(带回码2018-5-20)\Projects\GenericApp\CC253 #
#                          0DB\..\..\..\COMPONENTS\ZMAC\" -I                  #
#                          "C:\Users\win7\Desktop\ZStack传感器透明传输源程序V #
#                          2.45-13(带回码2018-5-20)\Projects\GenericApp\CC253 #
#                          0DB\..\..\..\COMPONENTS\SERVICES\SADDR\" -I        #
#                          "C:\Users\win7\Desktop\ZStack传感器透明传输源程序V #
#                          2.45-13(带回码2018-5-20)\Projects\GenericApp\CC253 #
#                          0DB\..\..\..\COMPONENTS\SERVICES\SDATA\" -I        #
#                          "C:\Users\win7\Desktop\ZStack传感器透明传输源程序V #
#                          2.45-13(带回码2018-5-20)\Projects\GenericApp\CC253 #
#                          0DB\..\..\..\COMPONENTS\MAC\INCLUDE\" -I           #
#                          "C:\Users\win7\Desktop\ZStack传感器透明传输源程序V #
#                          2.45-13(带回码2018-5-20)\Projects\GenericApp\CC253 #
#                          0DB\..\..\..\COMPONENTS\MAC\HIGH_LEVEL\" -I        #
#                          "C:\Users\win7\Desktop\ZStack传感器透明传输源程序V #
#                          2.45-13(带回码2018-5-20)\Projects\GenericApp\CC253 #
#                          0DB\..\..\..\COMPONENTS\MAC\LOW_LEVEL\srf04\" -I   #
#                          "C:\Users\win7\Desktop\ZStack传感器透明传输源程序V #
#                          2.45-13(带回码2018-5-20)\Projects\GenericApp\CC253 #
#                          0DB\..\..\..\COMPONENTS\MAC\LOW_LEVEL\srf04\SINGLE #
#                          _CHIP\" -I "C:\Program Files (x86)\IAR             #
#                          Systems\Embedded Workbench 5.4\8051\INC\" -I       #
#                          "C:\Program Files (x86)\IAR Systems\Embedded       #
#                          Workbench 5.4\8051\INC\CLIB\" -Ohz                 #
#    List file          =  C:\Users\win7\Desktop\ZStack传感器透明传输源程序V2 #
#                          .45-13(带回码2018-5-20)\Projects\GenericApp\CC2530 #
#                          DB\Router\List\LCD.lst                             #
#    Object file        =  C:\Users\win7\Desktop\ZStack传感器透明传输源程序V2 #
#                          .45-13(带回码2018-5-20)\Projects\GenericApp\CC2530 #
#                          DB\Router\Obj\LCD.r51                              #
#                                                                             #
#                                                                             #
###############################################################################

C:\Users\win7\Desktop\ZStack传感器透明传输源程序V2.45-13(带回码2018-5-20)\Projects\GenericApp\Source\LCD.c
      1          /*******************************************************************************
      2           * 文件名称：LCD.c
      3           * 功    能：数码管驱动
      4           *           
      5           * 硬件连接：数码管与CC2530的硬件连接关系如下：
      6           *             
      7           *
      8           *               SPI-data 串行数据             P1.6
      9           *               SPI-CLK  移位寄存器时钟输入   P1.5
     10           *               GPH      存储寄存器时钟输入   P1.3
     11           * 作    者：w
     12           * 公    司：无锡泛太科技有限公司
     13           ******************************************************************************/
     14          
     15          /* 包含头文件 */
     16          /********************************************************************/
     17          #include "ioCC2530.h"

   \                                 In  segment SFR_AN, at 0x90
   \   union <unnamed> volatile __sfr _A_P1
   \                     _A_P1:
   \   000000                DS 1
     18          #include "LCD.h"
     19          /*****************************************************************/
     20          
     21          /*********************************************************************
     22           * 函数名称：LCD_SPILEDSendData
     23           * 功    能：通过串行SPI口输送一个byte的数据置模组
     24           * 入口参数：Data  要传送的数据
     25           * 出口参数：temp
     26           * 返 回 值：SPI接到数据
     27           ********************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     28          void LCD_SPILEDSendData(unsigned char Data)
   \                     LCD_SPILEDSendData:
     29          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
     30            unsigned char  i;
     31            for(i=0;i<8;i++)
   \   000000   7A08         MOV     R2,#0x8
     32            { L_SPILEDCLK();
   \                     ??LCD_SPILEDSendData_0:
   \   000002   C295         CLR     0x90.5
     33              SPILEDdata=((Data&0x80)>>7);
   \   000004   E9           MOV     A,R1
   \   000005   A2E7         MOV     C,0xE0 /* A   */.7
   \   000007   9296         MOV     0x90.6,C
     34              NOP();
   \   000009   00           nop
   \   00000A   00           nop
   \   00000B   00           nop
   \   00000C   00           nop
   \   00000D   00           nop
     35              H_SPILEDCLK();
   \   00000E   D295         SETB    0x90.5
     36              Data<<=1;
   \   000010   C3           CLR     C
   \   000011   33           RLC     A
   \   000012   F9           MOV     R1,A
     37            }
   \   000013   1A           DEC     R2
   \   000014   EA           MOV     A,R2
   \   000015   70EB         JNZ     ??LCD_SPILEDSendData_0
     38          }
   \   000017   02....       LJMP    ?BRET
   \   00001A                REQUIRE _A_P1
     39          /*********************************************************************
     40           * 函数名称：LCD_SPILEDSendDatal
     41           * 功    能：通过串行SPI口输送一个byte的数据置模组
     42           * 入口参数：Data  要传送的数据
     43           * 出口参数：temp
     44           * 返 回 值：SPI接到数据
     45           ********************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     46          void LCD_SPILEDSendDatal(unsigned char Data)
   \                     LCD_SPILEDSendDatal:
     47          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
     48            unsigned char  i;
     49            for(i=0;i<8;i++)
   \   000000   7A08         MOV     R2,#0x8
     50            { L_SPILEDCLK();
   \                     ??LCD_SPILEDSendDatal_0:
   \   000002   C295         CLR     0x90.5
     51              SPILEDdata=(Data&0x01);
   \   000004   E9           MOV     A,R1
   \   000005   A2E0         MOV     C,0xE0 /* A   */.0
   \   000007   9296         MOV     0x90.6,C
     52              NOP();
   \   000009   00           nop
   \   00000A   00           nop
   \   00000B   00           nop
   \   00000C   00           nop
   \   00000D   00           nop
     53              H_SPILEDCLK();
   \   00000E   D295         SETB    0x90.5
     54              Data>>=1;
   \   000010   C3           CLR     C
   \   000011   13           RRC     A
   \   000012   F9           MOV     R1,A
     55            }
   \   000013   1A           DEC     R2
   \   000014   EA           MOV     A,R2
   \   000015   70EB         JNZ     ??LCD_SPILEDSendDatal_0
     56          }
   \   000017   02....       LJMP    ?BRET
   \   00001A                REQUIRE _A_P1
     57          /*********************************************************************
     58           * 函数名称：LCD_SPILEDOUT
     59           * 功    能：595数据输出
     60           * 入口参数：
     61           * 出口参数：
     62           * 返 回 值：
     63           ********************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     64          void LCD_SPILEDOUT(void)
   \                     LCD_SPILEDOUT:
     65          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
     66              L_GPH();
   \   000000   C293         CLR     0x90.3
     67              NOP();
   \   000002   00           nop
   \   000003   00           nop
   \   000004   00           nop
   \   000005   00           nop
   \   000006   00           nop
     68              H_GPH();
   \   000007   D293         SETB    0x90.3
     69          
     70          }
   \   000009   02....       LJMP    ?BRET
   \   00000C                REQUIRE _A_P1
     71          /*********************************************************************
     72           * 函数名称：LCD_SPILEDOUT
     73           * 功    能：595数据输出
     74           * 入口参数：
     75           * 出口参数：
     76           * 返 回 值：
     77           ********************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     78          void SendData(unsigned char Data)
   \                     SendData:
     79          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
     80            LCD_SPILEDSendData(Data);
   \   000005                ; Setup parameters for call to function LCD_SPILEDSendData
   \   000005   12....       LCALL   ??LCD_SPILEDSendData?relay
     81            LCD_SPILEDOUT();
   \   000008                ; Setup parameters for call to function LCD_SPILEDOUT
   \   000008   12....       LCALL   ??LCD_SPILEDOUT?relay
     82          }
   \   00000B   7F01         MOV     R7,#0x1
   \   00000D   02....       LJMP    ?BANKED_LEAVE_XDATA
     83          /*********************************************************************
     84           * 函数名称：SendDataS
     85           * 功    能：595数据输出
     86           * 入口参数：
     87           * 出口参数：
     88           * 返 回 值：
     89           ********************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     90          void SendDataS(unsigned char * Data,unsigned char len)
   \                     SendDataS:
     91          {char i;
   \   000000   74F2         MOV     A,#-0xe
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
   \   000009   89..         MOV     ?V0 + 5,R1
     92            for(i=0;i<len;i++)
   \   00000B   75..00       MOV     ?V0 + 4,#0x0
   \   00000E   8027         SJMP    ??SendDataS_0
     93            LCD_SPILEDSendDatal(Data[len-i-1]);
   \                     ??SendDataS_1:
   \   000010                ; Setup parameters for call to function LCD_SPILEDSendDatal
   \   000010   85....       MOV     ?V0 + 2,?V0 + 5
   \   000013   85....       MOV     ?V0 + 0,?V0 + 4
   \   000016   E5..         MOV     A,?V0 + 2
   \   000018   C3           CLR     C
   \   000019   95..         SUBB    A,?V0 + 0
   \   00001B   F8           MOV     R0,A
   \   00001C   E4           CLR     A
   \   00001D   9400         SUBB    A,#0x0
   \   00001F   F9           MOV     R1,A
   \   000020   EE           MOV     A,R6
   \   000021   28           ADD     A,R0
   \   000022   F8           MOV     R0,A
   \   000023   EF           MOV     A,R7
   \   000024   39           ADDC    A,R1
   \   000025   F9           MOV     R1,A
   \   000026   74FF         MOV     A,#-0x1
   \   000028   28           ADD     A,R0
   \   000029   F582         MOV     DPL,A
   \   00002B   74FF         MOV     A,#-0x1
   \   00002D   39           ADDC    A,R1
   \   00002E   F583         MOV     DPH,A
   \   000030   E0           MOVX    A,@DPTR
   \   000031   F9           MOV     R1,A
   \   000032   12....       LCALL   ??LCD_SPILEDSendDatal?relay
   \   000035   05..         INC     ?V0 + 4
   \                     ??SendDataS_0:
   \   000037   E5..         MOV     A,?V0 + 4
   \   000039   C3           CLR     C
   \   00003A   95..         SUBB    A,?V0 + 5
   \   00003C   40D2         JC      ??SendDataS_1
     94            LCD_SPILEDOUT();
   \   00003E                ; Setup parameters for call to function LCD_SPILEDOUT
   \   00003E   12....       LCALL   ??LCD_SPILEDOUT?relay
     95          }
   \   000041   7F06         MOV     R7,#0x6
   \   000043   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??LCD_SPILEDSendData?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    LCD_SPILEDSendData

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??LCD_SPILEDSendDatal?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    LCD_SPILEDSendDatal

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??LCD_SPILEDOUT?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    LCD_SPILEDOUT

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SendData?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SendData

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SendDataS?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SendDataS

   Maximum stack usage in bytes:

     Function                 ISTACK PSTACK XSTACK
     --------                 ------ ------ ------
     LCD_SPILEDOUT                0      0     14
     LCD_SPILEDSendData           0      0      9
     LCD_SPILEDSendDatal          0      0     14
     SendData                     0      0      9
       -> LCD_SPILEDSendData      0      0     18
       -> LCD_SPILEDOUT           0      0     18
     SendDataS                    0      0     14
       -> LCD_SPILEDSendDatal     0      0     28
       -> LCD_SPILEDOUT           0      0     28


   Segment part sizes:

     Function/Label              Bytes
     --------------              -----
     _A_P1                          1
     LCD_SPILEDSendData            26
     LCD_SPILEDSendDatal           26
     LCD_SPILEDOUT                 12
     SendData                      16
     SendDataS                     70
     ??LCD_SPILEDSendData?relay     6
     ??LCD_SPILEDSendDatal?relay    6
     ??LCD_SPILEDOUT?relay          6
     ??SendData?relay               6
     ??SendDataS?relay              6

 
 150 bytes in segment BANKED_CODE
  30 bytes in segment BANK_RELAYS
   1 byte  in segment SFR_AN
 
 180 bytes of CODE memory
   0 bytes of DATA memory (+ 1 byte shared)

Errors: none
Warnings: none
